var ds;ds||(ds={});ds.array||(ds.array={});ds.object||(ds.object={});ds.data||(ds.data={});ds.str={funct:"function",typeRequired:"The type property is required",type:"type",constructor:"constructor",basetype:"basetype",sigNotImplementedIn:"Signature(s) not implemented in ",colon:":",colonspace:": ",newline:"\n"};ds.object.get_methods=function(a){var c=[],b;for(b in a)try{typeof a[b]==ds.str.funct&&(c[b]=b+ds.str.colonspace+a[b].toString())}catch(d){}return c};
ds.object.get_method_signatures=function(a){var c=[],b;for(b in a)try{typeof a[b]==ds.str.funct&&c.push(b+ds.str.colonspace+a[b].length)}catch(d){}return c};ds.object.countProps=function(a){var c=0;for(k in a)a.hasOwnProperty(k)&&c++;return c};ds.array.diff=function(a,c){return a.filter(function(a){return 0>c.indexOf(a)})};
ds.data.copy=function(a,c,b,d){void 0==d&&(d=!0);void 0==c&&(c=a instanceof Array?[]:{});for(var e in a){var f=!0;void 0!=b&&-1!=b.indexOf(e)&&(f=!1);if(f)if(typeof a[e]==ds.str.funct){if(d&&void 0==c[e]||!d)c[e]=a[e]}else if(a[e]==a){if(d&&void 0==c[e]||!d)c[e]=a}else if(d&&void 0==c[e]||!d)c[e]=ds.data.copy(a[e])}return c};
ds["class"]=function(a){if(void 0==a.type)throw ds.str.typeRequired;if(a.inherits){var c;if(a.inherits instanceof Array){c=[];for(var b=0;b<a.inherits.length;b++)c[b]=a.inherits[b].prototype.type,ds.data.copy(a.inherits[b].prototype,a,[ds.str.type,ds.str.constructor,ds.str.basetype],!0)}else c=a.inherits.prototype.type,ds.data.copy(a.inherits.prototype,a,[ds.str.type,ds.str.constructor,ds.str.basetype],!0);a.inherits=c}if(b=a["implements"]){b instanceof Array||(b=[b]);for(c=0;c<b.length;c++){var d=
ds.object.get_method_signatures(b[c]),e=ds.object.get_method_signatures(a),d=ds.array.diff(d,e);if(0<d.length){c=ds.object.get_methods(b[c]);for(b=0;b<d.length;b++)d[b]=c[d[b].substring(0,d[b].indexOf(ds.str.colon))];throw ds.str.sigNotImplementedIn+a.type+ds.str.newline+d.join(ds.str.newline);}}Object.keys(b)}a.constructor.prototype=a;return a.constructor};ds["enum"]=function(a){for(var c={},b=Object.keys(a),d=0;d<b.length;d++){var e=a[b[d]];c[b[d]]=e;c[e]=b[d]}return c};
