var ds=ds||{};ds.array=ds.array||{};ds.object=ds.object||{};ds.data=ds.data||{};ds.make=ds.make||{};ds.str={funct:"function",typeRequired:"The type property is required",type:"type",constructor:"constructor",implementstype:"implementstype",sigNotImplementedIn:"Signature(s) not implemented in ",colon:":",colonspace:": ",newline:"\n"};ds.safe=function(b){try{b()}catch(d){}};
ds.object.get_methods=function(b){var d=[],a;for(a in b)typeof b[a]==ds.str.funct&&(d[a]=a+ds.str.colonspace+b[a].toString());return d};ds.object.get_method_signatures=function(b){var d=[],a;for(a in b)typeof b[a]==ds.str.funct&&d.push(a+ds.str.colonspace+b[a].length);return d};ds.array.diff=function(b,d){return b.filter(function(a){return 0>d.indexOf(a)})};
ds.data.copy=function(b,d,a,c){c||(c=!0);d||(d=b instanceof Array?[]:{});for(var e in b){var f=!0;a&&-1!=a.indexOf(e)&&(f=!1);f&&(c&&!d[e]||!c)&&(d[e]=typeof b[e]==ds.str.funct?b[e]:b[e]==b?b:ds.data.copy(b[e]))}return d};ds.make.namespace=function(b,d){var a=b.split(".");if(1==a.length)window[a[0]]=window[a[0]]||d;else{for(var c=window[a[0]]=window[a[0]]||{},e=1;e<a.length-1;e++)c[a[e]]=c[a[e]]||{},c=c[a[e]];c[a[e]]=c[a[e]]||d;return d}};
ds.make["class"]=function(b){if(!b.type)throw ds.str.typeRequired;var d=function(a){var c=a.type;ds.data.copy(a,b,[ds.str.type,ds.str.constructor],!0);return c};if(b.inherits)try{var a;if(b.inherits instanceof Array){a=[];for(var c=0;c<b.inherits.length;c++)a.push(d(b.inherits[c].prototype))}else a=d(b.inherits.prototype);b.inherits=a}catch(e){throw"ERROR: Unable to inherit classes in "+b.type+". Make sure your have created the class with ds.make.class() before attempting to inherit it!";}if(c=b["implements"]){c instanceof
Array||(c=[c]);for(d=0;d<c.length;d++){a=ds.object.get_method_signatures(c[d]);var f=ds.object.get_method_signatures(b);a=ds.array.diff(a,f);if(0<a.length){d=ds.object.get_methods(c[d]);for(c=0;c<a.length;c++)a[c]=d[a[c].substring(0,a[c].indexOf(ds.str.colon))];throw ds.str.sigNotImplementedIn+b.type+ds.str.newline+a.join(ds.str.newline);}}c=Object.keys(c)}b.constructor.prototype=b;ds.make.namespace(b.type,b.constructor);return b.constructor};
ds.make["enum"]=function(b){for(var d={},a=Object.keys(b),c=0;c<a.length;c++){var e=b[a[c]];d[a[c]]=e;d[e]=a[c]}return d};
