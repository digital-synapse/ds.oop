var ds=ds||{};ds.array=ds.array||{};ds.object=ds.object||{};ds.data=ds.data||{};ds.make=ds.make||{};ds.make["static"]=ds.make["static"]||{};ds.str={funct:"function",typeRequired:"The type property is required",type:"type",constructor:"constructor",implementstype:"implementstype",sigNotImplementedIn:"Signature(s) not implemented in ",colon:":",colonspace:": ",newline:"\n"};ds.safe=function(a){try{a()}catch(e){}};
ds.object.get_methods=function(a){var e=[],c;for(c in a)typeof a[c]==ds.str.funct&&(e[c]=c+ds.str.colonspace+a[c].toString());return e};ds.object.get_method_signatures=function(a){var e=[],c;for(c in a)typeof a[c]==ds.str.funct&&e.push(c+ds.str.colonspace+a[c].length);return e};ds.array.diff=function(a,e){return a.filter(function(a){return 0>e.indexOf(a)})};
ds.data.copy=function(a,e,c,d){d||(d=!0);e||(e=a instanceof Array?[]:{});for(var b in a){var g=!0;c&&-1!=c.indexOf(b)&&(g=!1);g&&(d&&!e[b]||!d)&&(e[b]=typeof a[b]==ds.str.funct?a[b]:a[b]==a?a:a[b].constructor===Number||a[b].constructor===String||a[b].constructor===Boolean?a[b]:ds.data.copy(a[b]))}return e};
ds.make.namespace=function(a,e){var c=a.split(".");if(1==c.length)window[c[0]]=window[c[0]]||e;else{for(var d=window[c[0]]=window[c[0]]||{},b=1;b<c.length-1;b++)d[c[b]]=d[c[b]]||{},d=d[c[b]];d[c[b]]=d[c[b]]||e;return e}};ds.make["enum"]=function(a){for(var e={},c=Object.keys(a),d=0;d<c.length;d++){var b=a[c[d]];e[c[d]]=b;e[b]=c[d]}return e};
ds.make["class"]=function(a,e){if(!a.type)throw ds.str.typeRequired;var c=function(b){var c=b.type;ds.data.copy(b,a,[ds.str.type,ds.str.constructor],!0);return c};if(a.inherits)try{var d;if(a.inherits instanceof Array){d=[];for(var b=0;b<a.inherits.length;b++)d.push(c(a.inherits[b].prototype))}else d=c(a.inherits.prototype);a.inherits=d}catch(g){throw"ERROR: Unable to inherit classes in "+a.type+". Make sure your have created the class with ds.make.class() before attempting to inherit it!";}if(b=
a["implements"]){b instanceof Array||(b=[b]);for(c=0;c<b.length;c++){d=ds.object.get_method_signatures(b[c]);var h=ds.object.get_method_signatures(a);d=ds.array.diff(d,h);if(0<d.length){c=ds.object.get_methods(b[c]);for(b=0;b<d.length;b++)d[b]=c[d[b].substring(0,d[b].indexOf(ds.str.colon))];throw ds.str.sigNotImplementedIn+a.type+ds.str.newline+d.join(ds.str.newline);}}b=Object.keys(b)}var f;a.properties&&(f=a.properties,delete a.properties);-1!=a.constructor.toString().indexOf("function Object()")?
a.constructor=function(){f&&ds.data.copy(f,this)}:(a._constructor=a.constructor,a.constructor=function(){f&&ds.data.copy(f,this);this._constructor.apply(this,arguments)});a.constructor.prototype=a;b=e?new a.constructor:a.constructor;ds.make.namespace(a.type,b);return b};ds.make["static"]["class"]=function(a){ds.make["class"](a,!0)};
