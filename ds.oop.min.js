var ds=ds||{};ds.array=ds.array||{};ds.object=ds.object||{};ds.data=ds.data||{};ds.make=ds.make||{};ds.str={funct:"function",typeRequired:"The type property is required",type:"type",constructor:"constructor",implementstype:"implementstype",sigNotImplementedIn:"Signature(s) not implemented in ",colon:":",colonspace:": ",newline:"\n"};ds.safe=function(a){try{a()}catch(d){}};
ds.object.get_methods=function(a){var d=[],b;for(b in a)typeof a[b]==ds.str.funct&&(d[b]=b+ds.str.colonspace+a[b].toString());return d};ds.object.get_method_signatures=function(a){var d=[],b;for(b in a)typeof a[b]==ds.str.funct&&d.push(b+ds.str.colonspace+a[b].length);return d};ds.array.diff=function(a,d){return a.filter(function(a){return 0>d.indexOf(a)})};
ds.data.copy=function(a,d,b,c){c||(c=!0);d||(d=a instanceof Array?[]:{});for(var e in a){var f=!0;b&&-1!=b.indexOf(e)&&(f=!1);f&&(c&&!d[e]||!c)&&(d[e]=typeof a[e]==ds.str.funct?a[e]:a[e]==a?a:ds.data.copy(a[e]))}return d};
ds.make["class"]=function(a){if(!a.type)throw ds.str.typeRequired;var d=function(b){var c=b.type;ds.data.copy(b,a,[ds.str.type,ds.str.constructor],!0);return c};if(a.inherits)try{var b;if(a.inherits instanceof Array){b=[];for(var c=0;c<a.inherits.length;c++)b.push(d(a.inherits[c].prototype))}else b=d(a.inherits.prototype);a.inherits=b}catch(e){throw"ERROR: Unable to inherit classes in "+a.type+". Make sure your have created the class with ds.make.class() before attempting to inherit it!";}if(c=a["implements"]){c instanceof
Array||(c=[c]);for(d=0;d<c.length;d++){b=ds.object.get_method_signatures(c[d]);var f=ds.object.get_method_signatures(a);b=ds.array.diff(b,f);if(0<b.length){d=ds.object.get_methods(c[d]);for(c=0;c<b.length;c++)b[c]=d[b[c].substring(0,b[c].indexOf(ds.str.colon))];throw ds.str.sigNotImplementedIn+a.type+ds.str.newline+b.join(ds.str.newline);}}c=Object.keys(c)}a.constructor.prototype=a;return a.constructor};
ds.make["enum"]=function(a){for(var d={},b=Object.keys(a),c=0;c<b.length;c++){var e=a[b[c]];d[b[c]]=e;d[e]=b[c]}return d};
